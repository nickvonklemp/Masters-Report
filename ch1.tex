%****************************************************
%	CHAPTER 1 - INTRODUCTION
%****************************************************
\chapter{Introduction}
\label{ch:intro}
%====================================================
\section{Foreword}
\label{sec:intro.foreword}
%====================================================
\subsection{A Brief Background to the Study}
\label{subsec:intro.foreword.background}
%====================================================
Currently the most popular topic for control and automation research is the around quadrotor UAV, specifically its attitude control. A wide range of work has been done on quadrotors and their attitude control, mostly designing control systems around a stable trim point adjacent to the inertial frames origin, to which the control algorithm always tends to. The highly coupled non-linear dynamics for a rigid bodies linear and angular motions arise as a result of gyroscopic torques [Section:\ref{subsec:dynamics.nonlinearities.gyrotorques}] and Coriolis accelerations [Section:\ref{subsec:dynamics.nonlinearities.coriolis}]. Such affects are linearised around the origin when they can be approximated to $\approx \vec{0}$ , thus decoupling the system and allowing for traditional SISO control design techniques to be applied.
\par
As almost every quadrotor based research paper will mention, the current interest in them is as a result of the recent emergence in availability of MEMS systems and low-cost ARM microprocessors, allowing the on-board flight computer to perform complicated control calculations and state estimation in real time. As a result this led to development and expansion in the field and introduction of a large range of hobbyist solutions, from professionally made units to DIY kits; with large room for modification, depending on how much your wallet can spare. A rapidly growing enthusiast community was borne from this advancement, meaning the environment was no longer open only to those willing spend lots of money.
\par
The avenues for potential applications of both fixed wing and VTOL UAVs is expansive and the quadrotor configuration provides a mechanically simple and low cost platform on which to test advanced aerospace control algorithms. Considering that commercial drone usage is such an emerging sector; especially in Southern Africa following the revision of aviation laws \cite{safedrone} which have legalized the use of UAVs for commercial application, any research into a non-trivial aspect of the field is extremely valuable. 
\par
Large scale quadrotor, hexrotor and even octorotor UAVs are a popular intermediate choice for aerial cinematography.  Whilst still expensive, the cost of a commercial drone like the SteadiDrone Maverik \cite{steadidrone} is far less exorbitant than the cost of chartering a helicopter to achieve the same panoramic aerial scenes or on-site inspections. Another interesting application for UAVs is in the agricultural sector, introducing crop dusting drones instead of the traditional bi-planes which perform the same job. One problem which hinders the progress of the commercial drone sector is that of inertia, specifically when scaling up any vehicle, its performance is adversely affected, due to the increased mass inertial effect.
%====================================================
\subsection{Research Questions \& Hypotheses}
\label{subsec:intro.foreword.hypotheses}
%====================================================
The difficulty with a quadrotors' control is that fundamentally it's unstable and under-actuated, having only 4 controllable inputs (each propellers rotational speed and hence net lift force) available to manipulate all 6 degrees of freedom (linear X-Y-Z position and angular Pitch, $\phi$, Roll, $\theta$ and Yaw, $\psi$ rotations). The resulting solution, whose derivation is explored in Appendix \ref{app:stddynamics}, is to control the perpendicular heave thrust, $\vec{T}$, and angular torques about each axis, $[\tau_\phi\;\tau_\theta\;\tau_\psi]^T$. So the attitude control problem of a quadrotor is a zero set point problem as any other attempt to track attitude can't be achieved.
\par
The aim of this project is to then implement dynamic set point tracking of a quadrotors' attitude and position by solving the problem of its inherent under-actuation. Inspired by Boeing/Bell Helicopters' V22 Osprey and the tilting articulation of its propellers, the prototype on which this paper is focused introduces two additional actuators for each of the four quadrotors' lift propellers. Specifically, adding rotations about the X and Y axes for each of the propellers. The resultant is a vectored thrust force which exists in 3-Dimensions with respect to the body frame, unlike a traditional quadrotor helicopter which has a bound perpendicular lift force. The control problem is then posed as the design of net forces, $\vec{F}_{net} = [F_x\;F_y\;F_z]^T$, and torques, $\vec{\tau}_{net} = [\tau_{\phi}\;\tau_{\theta}\;\tau_{\psi}]^T$, such that for any given trajectory, $X_d$, the error state, $X_e = X_d - X$, asymptotically tends to $\vec{0}$.
\begin{equation} \label{eq:1}
lim_{t \rightarrow \infty} X_e = \vec{0}\;\forall X \in \mathbb{R}^n
\end{equation}
Where $n$ is the degrees of freedom. The over-actuation brings about the need for a control allocation scheme which distributes the 6 commanded system inputs (net torques and forces) among the actuator set (12 actuators) in order to optimize some objective function secondary to that of Eq:\ref{eq:1}.
\par
Part of the control research question is the multivariate treatment of the system without making any simplifications to the non-linear dynamics involved in the quadrotors motion or making any assumptions about its operational conditions. The standard linearisations usually applied to the quadrotors control plant won't hold true for the more aggressive angular manoeuvres envisioned for this prototype. Inherent to this is the expansion and simulation of existing kinematic models describing an aerial body and applying them to a quadrotor vehicles' motion. Thereafter, design, development and control of this new actuator suite to be implemented on a quadrotor platform. The final key outcomes for the project are the simulation analysis and prototype construction of the proposed design.
\par
Introducing relative motion within an unconstrained body is going to produce a lot of unwanted dynamics. The obvious consequences of which are the inertial and gyroscopic responses. Pitching a rotating propeller is going to react much like a Control Moment Gyroscope, \cite{cmg}. A less trivial result is the aerodynamic torque produced from the propellers aerofoil profile. Such induced responses occur in obscure planes, normal to whatever the propellers thrust direction is. These aspects are normally cancelled out because a regular quadrotors' propellers all have the same plane of rotation. Because of these factors, a plant dependent control solution needs to be used to compensate for these dynamics, which if left unaccounted for would cause instability. 
%====================================================
\subsection{Significance of Study}
\label{subsec:intro.foreword.significance}
%====================================================
Due to the huge popularity of quadrotor platforms as research tools, any work which expands on the general body of knowledge relating to UAVs' \& quadrotors is going to be valuable to the community as a whole. With that being said, there already is a vast amount of existing research on linear and non-linear control techniques for regular quadrotor platforms. The attitude loop is the most common topic for control research, requiring an under-actuated solution and mostly linearised around the origin (See Appendix:\ref{app:stddynamics}). Far less common is the application of optimal flight path and trajectory planning to quadrotor control. The uniqueness and difficulty of the quadrotors attitude control does not hold true for its position control, so standard techniques can be used for way point planning and the like once the attitude control problem has been answered.
\par
The most significant aspect of this project is the attitude control, discussed later in \ref{sec:control.attitude}. The over-actuation of the proposed design and, more importantly, the manner in which the controllers' (virtual) output is distributed amongst those control effectors would appear to be the first of its kind. Otherwise known as control allocation, the requirements of the distribution algorithm(s) are outlined in Section: \ref{sec:control.allocation}. Dynamic set point attitude control for aerospace vehicles is not a subject heavily researched outside the satellite attitude control field. Even papers which propose similarly complex mechanical over-actuation (expanded upon in Section:\ref{sec:intro.litreview}) barely elude to the possibility of attitude set points away from $\vec{0}$.
\par
Whilst the control plant (developed in Chapter:\ref{ch:control}) does indeed close both the position  and attitudes control loops, there is no discussion of trajectory or flight path planning. Such topics are well discussed elsewhere in a far more concise and deliberate way than this project could ever hope to achieve. Once closed loop position and attitude controls have been achieved, the control algorithms can be adjusted to account for first and second order state derivative set point tracking to be used with nodal way point planning easily. The heuristics involved with flight path planning are well documented elsewhere and implementation of them is an academic task.
\par
For the proposed systems' identification and control treatment (design and allocation), a generic and modular approach is adopted. The intention is that applicability here falls not only within the UAV and quadrotor realms but to any other aerospace and freely rotating bodies needing attitude control; such as orbital satellites or underwater vehicles. Hopefully the investigation here can be built upon with more research focusing on one of the system subsets without compromising the functionality of the remainder of the system. A possible improvement which the investigation could yield is a higher actuator bandwidth and thus a faster control response for larger aerospace bodies. A standard quadrotor uses differential thrust to develop a torque about its body which suffers a slow inertial deceleration when changes speeds. Prioritizing pitching the propellers principle plane of rotation away rather than changes the propellers speed could improve response. This depends on what or how the allocator block is prioritized (presented in Section:\ref{sec:control.allocation}).
%====================================================
\subsection{Scope and Limitations}
\label{subsec:intro.foreword.scopeandlim}
%====================================================
\subsubsection{Scope}
\label{subsubsec:intro.foreword.scope}
%====================================================
This project includes the conceptualized design and implementation of a novel actuation suite to be used on a quadrotor platform. The express purpose of which is to apply set point attitude tracking control to the body. Stemming from this is an investigation of the associated kinematics which are influenced by the design and its relative motions. In order to apply control theory to achieve the attitude tracking goal, a sound model of the plant dynamics is first needed so that the plants' response can be analysed.
\par
Aspects of the mechanical design are covered in Section \ref{sec:proto.design} but, beyond the cursory investigation, there is no scope for materials analysis or stress testing of the design. To the detriment of the project, the design will either produce an over-engineered or catastrophically under-engineered solution. The focus is rather on the control application and embedded systems design, not the structural integrity of a proposed frame. The only physical measurements made are ones which pertain to the critical kinematics like inertial measurements for the second order gyroscopic and inertial dynamic responses.
\par
As mentioned in the antecedent , Section: \ref{subsec:intro.foreword.significance}, trajectory \& flight path planning are not ubiquitous with this investigation. The kinematic derivation for a 6-DOF body is wholly applicable to any dynamic (rigid or otherwise) aerospace body, although some particular standards are used [sic ZYX Euler Aerospace Sequence, \ref{sec:proto.conventions}]. Similarly the control treatment of the plant is that of a non-linear multivariate control, aided and justified by Lyupanov theorem. Whilst alternative solutions through Model Predictive Control or Quantitative Feedback Theory could provide a more refined or effective controller, they aren't presented and remain open to further investigation. The standard approach for quadrotor attitude control is feedback linearisation of the plant around a trim point to decouple the non-linear dynamics and apply SISO techniques. A derivation of such a linearisation is presented in \ref{app:stddynamics} but there are no further discussions beyond that. Comparison between attitude set point tracking proposed here and normal zero-set point attitude control of fixed rotor quads' is difficult as the fundamental objectives are in stark contrast with each other.
\par
Arguably the most important and indeed novel aspect of this project is the control allocation. Seeing as the system has 12 controllable inputs and 6 possible responses to that input, hence the system is classified as over-actuated. Ergo, there needs to be some logical process as to how those 12 inputs are articulated to achieve the desired 6 movements. Appropriate techniques are first investigated in Section:\ref{sec:control.allocation} and compared before a final solution is implemented in Chapter:\ref{ch:ch5}. It is by no means a comprehensive investigation of every solution possible but rather an analysis of the sub-set of problems and design of what is regarded as a logical and pertinent approach.
\par
With regards to the actual prototype design, in Section \ref{sec:proto.design}, it's assumed that certain aspects are a given certainty. Particularly the state estimation, updated through a 4-camera positioning system fused with a 6-axis IMU through Kalman Filtering, is assumed to precise and readily disposable at a consistent 50 Hz. Hence state estimation is presented but is bereft of intricate detail, this is another topic which has been well documented elsewhere.
%====================================================
\subsubsection{Limitations}
\label{subsubsec:intro.foreword.limits}
%====================================================
By far the biggest constraint of the design is the net weight of the assembled frame. The lift required to keep the body aloft is obviously dependent on the all up weight. Thrust forces disposable to the controller then need to be such that there is clear headroom below actuator saturation during hover flight. The controller effort increases with the magnitude of change for desired state, so steady state actuation conditions must be just a fraction of the maximum actuator outputs. Conversely the all up weight is mostly dependent on the lift motors, being the heaviest part of the vehicle, and their associated power electronics. A trade-off between these two factors makes designing the prototype a balancing act of compromise; added actuation is needed to produce the desired thrust vectoring. That added actuation is going to increase the weight which then requires more thrust force to ensure the vehicle remains airborne. Bigger motors then need stronger actuators to effect the relative motion and overcome the bodies inertial response. It's a compromise between the weight of the body and the strength/quality of the actuation.
\par
To forego the deliberation detailed above, a self imposed limitation applied to the design is to only make use of a particular predetermined motor, namely a set of four Turnigy DST-700 motors. The \dept ~at \uni ~has a surplus of these from previous projects so it saves on new motor costs. A direct consequence of this decision is that the net thrust disposable for actuation is limited to around 700g, $\approx$ 6.9 N, per motor (see Section: \ref{subsec:dynamics.aero.bem}, later in Chapter \ref{ch:dynamics}). This means that all other aspects of the prototype need to adhere to this weight limitation. It is crucial to ensure the control algorithm doesn't induce over-saturation of the motor actuations, so the frame weight needs to be around 40-50\% of the maximum available thrust. These saturation conditions are expanded upon later in Section: \ref{sec:control.allocation} in more detail.
\par
Another aspect of the design limitations resulting from decisions taken, mainly to reduce the costs of construction and complexity, is the use of 180\textdegree ~rotatable servos. The servos are for the individual motors' pitch and roll actuation and act in lieu of continuous rotation DC (brushless or stepper) motors. Any rotation beyond 360\textdegree would require both closed loop position control of the actuator, unlike a servo, and slip rings for power transmission so that no wiring would impede the bodies relative rotation. However the logistics of implementing such a design whilst maintaining an acceptable weight is almost impossible without dramatically scaling up the size of the prototype to accommodate for weight increases.
Commercial camera stabilizing gimbals already make use of similar configurations but the I/O requirements from the flight controller $\mu$C already constricts the amount of expansion at hand.
\par
Some of the discretionary elements for  the whole system will limit performance but are mitigated where possible. For example analogue servos have an associated 1 ms deadband from their 20 Hz refresh rate which can be addressed by using faster, albeit more expensive, digital servos which sample at 333 Hz. The on-board flight control system, see \ref{sec:proto.layout}, needs to apply PWM outputs to 12 different actuators as well as receiving command updates from a ground control station so the I/O capability of most embedded systems are going to be at capacity. Sub-systems will have to be divided and relative inter-communications adopted for various comms and on-board data logging. All of these things are addressed in the following Chapter \ref{ch:proto}.
%====================================================
\section{Literature Review}
\label{sec:intro.litreview}
%====================================================
\subsection{Existing \& Related Work}
\label{subsec:intro.lit.related}
%====================================================
The field of transformable aerospace frames is not necessarily a new one, with many commercial examples having seen a lot of success over their operational life span. The most notable tilting-rotor application is that of the Boeing/Bell V22 Osprey aircraft. First introduced in the field in 2007, the Osprey has the ability to pitch its two lift propellers forward to aid in translational flight after a VTOL manoeuvre has been completed. In addition to this there have been a handful of papers published on similar tilting bi-rotor UAVs' (Fig: \ref{fig:dualaxistilt}\footnote{Image used from G. Gress: \cite{gres2007}}) for research purposes.
\begin{figure}[hbtp]
\centering
\includegraphics[width=0.7\textwidth]{figs/dualaxistilt}
\caption{General Structure for Opposed Tilting Platform}
\label{fig:dualaxistilt}
\end{figure}
\subsubsection*{Birotors}
Research into birotor vehicles (Fig: \ref{fig:dualaxistilt}) with ancilliary lift propeller actuation is often termed Opposed Active Tilting, \emph{OAT}. Such a rotorcrafts' mechanical design applies either a single \emph{oblique} 45\textdegree ~tilting axis relative to the body; \cite{smalltwotilting,obliquepitch,passiveobliquetilting}, or a \emph{lateral} tilting axis, adjacent to the body; \cite{tiltrotorUAV,adaptivebackstep,tiltrotorcontrol,tpheonix}. Leading research is currently focussed on applying doubly actuated tilting axes to birotor UAVs. Dual axis Opposed Active Tilting or \emph{dOAT} introduces vectored thrust with propeller pitch and roll motions to further expand the actuation suite, \cite{gres2007,opposedlateraldualaxis}. A birotor is sometimes considered preferable to the multirotor platform due to its reduced controller effort. However the controller plant abstraction often detracts from the quality and effectiveness of its treatment as a result of its' underactuation. 
\par
Birotor attitude control incorporates the typical plant independent PD \cite{obliquepitch} and PID \cite{tiltrotorUAV} controller schemes but often more computationally exhaustive and plant dependent Ideal and Adaptive backstepping controllers are investigated, presented in \cite{smalltwotilting,tpheonix} and \cite{adaptivebackstep} respectively. The coupling of a birotor vehicles' attitude system is more prominent than a quadrotors', derived in Section: \ref{sec:dynamics.nonlinearities}, and so feedback linearisation is almost always used. In an interesting progression from the norm, Lee et al,  \cite{autopilotPSO}, proposed a PID co-efficient selection algorithm using a Particle Swarm Optimization techinque, similar to \cite{adaptivepso}. However their performance metric criterion was a basic ITAE term and not anything more unique involving effects specific to flight. \emph{PSO} algorithms iteratively search for a globally optimized solution and offer independent, derivative free optimization. This project report also exploits PSO optimization for non-linear controller coefficient selection, shown in Section:\ref{sec:control.tuning}.
\par
\subsubsection*{Quadrotors}
Expanding on multirotor vehicles, the quadrotor UAV is a popular and well covered research platform due to its relative mechanical simplicity. What would appear to be one of the first quadrotor research implementations, in 2002, is the X4-Flyer quadrotor helicopter, \cite{x4flyer,x4flyercontrol}. Subsequently alternative iterations like the Microraptor, \cite{microraptor}, and STARMAC, \cite{starmac}, quadcopters have been built and tested. A plethora of literature exists around basic quadrotor kinematics \& control \cite{dynamicmodelling2013, dynamicmodelling2009, modelingquadcopter, quaddynamics, fullquadcoptercontrol}, however dedicated 6-DOF rigid body dynamic papers \cite{rigidbodylecture,eulerrigidbody} provide better insight into the appropriate kinematics. Often the dynamics are simplified around a trim point and thus assumed to decompose into 6 SISO plants for each degree of freedom, see Section: \ref{sec:dynamics.rigidbody} and Appendix: \ref{app:stddynamics}. More recent research projects have incorporated advanced aerodynamic effects like drag and propeller blade element theory into the dynamics; \cite{lowreynolds,bem,starmac}. Although commonly neglected due to their inconsequence under standard opperating conditions, the higher fidelity models are more precise without trim point linearisations \& better modelled thrust calculations; \cite{nonlineardynamics,starmac}.
\par
\begin{figure}[htbp]
\centering
\begin{subfigure}{.5\textwidth}
\centering
\includegraphics[width=\textwidth]{figs/dji-inspire1}
\caption{Inspire 1 articulated upwards}
\label{fig:inspireup}
\end{subfigure}%
\begin{subfigure}{.5\textwidth}
\centering
\includegraphics[width=\textwidth]{figs/dji-inspire2}
\caption{Inspire 1 articulated downwards}
\label{fig:inspiredown}
\end{subfigure}
\caption{DJI Inspire 1}
\label{fig:inspire1}
\end{figure}
The only commercial example of a transforming quadrotor is the DJI Inspire1 \cite{inspire}, made by Shenzen DJI Technologies (who are more commonly known for the popular DJI Phantom drone). The Inspire can articulate its supporting arms up and down as shown in Fig:\ref{fig:inspire1} \footnote{Both images were sourced from the drones patent, held by SZ DJI Tech Co\cite{djinspire}}. The purpose of such movements is to both alter the center of gravity and further expose a belly mounted camera gimbal to achieve panoramic sequences. This transformation changes the moment of inertia about the bodies center of gravity which then changes the inertial torque response induced by angular movements, an otherwise detrimental effect which makes researchers apprehensive of transformable aerospace frames. The range of "transformation" the frame can undergo is just limited to articulating the arms up and down.
\par
In a similar fashion to the progression seen in birotor state-of-the-art, quadrotor research is broaching the topic of single and dual axis tilting articulation. The concept was first conceptualized and implemented on a prototype related to an ongoing project covered in two reports, \cite{tiltpropellercontrol,tiltpropellerflight}. The authors M. Ryll et al.(2012, 2013) modified and tested a QuadroXL four rotor helicopter, propduced by MikroKopter \cite{mikrokopter}, to actuate a single axis of tilt aligned with the frames arms (Fig:\ref{fig:tiltpropellercontrol1}\footnote{Image sourced from Modelling and Control of a Quadrotor UAV with tilting propellers, \cite{tiltpropellercontrol}}). Their proposed control solution, discussed in detail next in Sub-section:\ref{subsec:intro.lit.control}, assumes no nominal linearised conditions around hover flight unlike a similar single axis tilting quadrotor prototype designed by Nemati, et al. (2012)\cite{singleaxistilting}. The latter remains  \underline{simulated} but not yet untested.
\begin{figure}[htbp]
\centering
\begin{subfigure}{.5\textwidth}
\includegraphics[width=\textwidth]{figs/tiltpropellercontrol1}
\caption{Single rotation axis aligned with the frames arm}
\label{fig:tiltpropellercontrol1}
\end{subfigure}%
\begin{subfigure}{.5\textwidth}
\includegraphics[width=\textwidth]{figs/napsholm-mech}
\caption{Cyclic-pitch \& swashplate mechanism}
\label{fig:tiltrotor-napsholm}
\end{subfigure}
\caption{}
\label{fig:tiltprop}
\end{figure}
\\
One approach to improving quadrotor flight operation is to alter the manner in which the thrust is actuated. Drawing from helicopter technology, a paper by Napsholm, (2013)\cite{napsholm}, has designed a prototype quadrotor UAV which uses co-axial swashplates for varying the propeller pitch. His aim was a design which didn't rely power electronics to change the BLDC motors' speed for thrust actuation, hoping to eventually replace the BLDC motors with petrol combustion engines. Furthermore, the design applied a single axis of tilting actuation to each of the four motor modules. Whilst mechanically complex, Napsholm made use of existing RC helicopter components to design a rotor actuation bracket (Fig:\ref{fig:tiltrotor-napsholm}). The cyclic-pitch swashplate actuation \cite{autonomousrobotspitch} can apply pitching and roll torques, $\tau_{\phi}$ and $\tau_{\theta}$, about the propellers' \emph{principle axis of rotation}.
\par
Regardless of his strong initial theoretical grounding in the early stages of his project, it would appear that Napsholms research suffered due to time constraints. The introductory derivation on aero-dynamical effects and deliberation over the design provide clear insight into the projects goals. However the control solution and system architecture, electronic and software, are left wanting. A brief proposal of an MPC attitude control system detracted from the comprehensive dynamics discussed. The project obviously ended before testing, simulation and results could be achieved. Unfortunately, despite the novel and over-actuated design, there was no discussion given on how the allocation would be performed.
\par
Finally, the most crucial research to mention is that of a project completed by Pau Segui Gasco \cite{tiltgasco}, which was a dual presented MSc project with Yazan Al-Rihani \cite{tiltrihani}. At the time of writing, this would appear to be the only project published pertaining to \emph{over-actuation} in aerospace bodies implemented on a quadrotor platform. The research was split between the two authors who completed the control/electronic design and the mechanical platform design for their respective dissertations. Shown in Fig:\ref{fig:tiltrotor-gasco}\footnote{Development of a Dual Axis Tilt Rotorcraft UAV: Modelling, Simulation and Control \cite{tiltgasco}}, the dual-axis articulation is achieved using an RC helicopter tail bracket and push-rod mechanism; reducing the mass of the articulated component but limiting the range of actuation. Considering the spinning propellers and their induced gyroscopic torque as an actuator plant, the commanded virtual control is then distributed by weighted inversion amongst the actuator set. The whole projects justifies the extra actuation as redundancy but doesn't necessarily prove how the redundancy could be beneficial.
\begin{figure}
\centering
\includegraphics[width=0.7\textwidth]{figs/gasco-mech}
\caption{Dual-axis tilt-rotor mechanism}
\label{fig:tiltrotor-gasco}
\end{figure}
%====================================================
\subsection{Notable Quadrotor Control Implementations}
\label{subsec:intro.lit.control}
%====================================================
\subsubsection*{Quadcopter Attitude Control}
%====================================================
Attitude control of a 6-DOF body is a well understood topic, best described by \emph{The Attitude Control Problem} \cite{attitudecontrolproblem}, whereby a body currently has an attitude state $E_s$ and a desired state $E_d$. The problem is to then find a torque control law:
\begin{equation} \label{eq:2}
\tau = f(E_s,E_d,\omega_s,\omega_d)
\end{equation}
Such that $lim_{t\rightarrow\infty}E_s \rightarrow E_d$ asymptotically as $t \rightarrow 0$ and $\omega_s \rightarrow \omega_d$ similarly. Depending on how the attitude is posed; with rotation matrices \cite{rigidbodylecture,eulerrigidbody,rotationsequences}, quaternions \cite{quaterniondynamics, rotationsequences, spacecraftattitutdequaternions} or otherwise (Direct Cosine Matrix etc \ldots) the dependent error sate $E$\footnote{\emph{The Attitude Control} \cite{attitudecontrolproblem} describes these conventionally different error states}$= E_d - E_s$ could then differ. Simulation and modelling papers often rely on Euler angle based rotation matrices for attitude representation, \cite{quadsimulationcontrol, adaptivedisturbancecontrol, optimizedpidquadcopter, singleaxistilting, backsteppingquadcoptercontrol, fullquadcoptercontrol} without addressing the inherent singularity associated with such an attitude representation [sic Gimbal Lock, \cite{euleranglesingularity}]. The alternative quaternion attitude representation, first implemented with a quadrotor UAV in 2006 \cite{attitudestabilization}, often used in lieu of rotation matrices has its own caveat of \emph{unwinding}, (Section:\ref{subsec:dynamics.rigidbody.unwinding}), as a result of quaternions dual-coverage \cite{unwinding}.
\par
Quadrotor plant dynamics, as mentioned before, are often linearised; especially when represented with a 3-variable Euler angle set, $E = [\phi ~\theta ~\psi]^T$. The coupled gyroscopic and Coriolis responses are both neglected when the angular velocity rate is small, $\vec{\Omega} \approx 0$, and the inertial matrix is diagonal, $rk(\mathbb{I}_b)= x$ for $\in\mathbb{R}^x$. The consequence of which is the ineffectual deterioration of both the gyroscopic term, $\tau_{gyro}=\vec{\Omega} \times \mathbb{I}_b\vec{\Omega} \approx 0$ and the  Coriolis force term, $F_{cor}=-\vec{\Omega} \times \vec{a_b} \approx 0$ in the bodies dynamics (Chapter:\ref{ch:dynamics} for context). Once the cross-product coupled terms are no longer of consequence, each of the 6 degrees of freedom, $[X ~Y ~Z]^T, [\phi ~\theta ~\psi]^T$, can be treated as an individual SISO plant with appropriate techniques used. Quaternion represented attitude plants \cite{} cannot be easily decomposed into individual SISO controllable plants (More details on Quaternion dynamics in Section:\ref{subsec:dynamics.rigidbody.quaternion}). So a quaternion (combined four variable attitude state vector) is then used, $Q = [q_0 ~\vec{q}\>]^T$ for the abstracted major loop plant.
\par
\begin{figure}[hbtp]
\centering
\includegraphics[width=0.8\textwidth]{figs/arducopter-pi}
\caption{ArduCopter PI Euler Angle Attitude Control loop}
\label{fig:arducopter-pi}
\end{figure}
Commercial flight controllers (Arducopter\cite{arducoptersite}, Openpilot\cite{openpilotsite}\footnote{\underline{NOTE:} OpenPilot's firmware branch is now maintained by LibrePilot} etc \ldots) for custom fabricated UAV platforms all apply their own structured attitude controllers and state estimation algorithms, based on their onboard hardware sensor fusion. The article \emph{Build Your Own Quadrotor}\cite{buildyourownquad} summarizes the control structures implemented on a range of popular flight controllers. The most popular of which, the Arducopter, implements a feed-forward PI compensation controller (Fig:\ref{fig:arducopter-pi}\footnote{Image sourced from \emph{Build your own Quadrotor}\cite{buildyourownquad}}).  PI, PD and PID controllers are easy and effective independent solutions for attitude control once the plants have been linearised.
\begin{table}[h]
\centering
\begin{tabular}{ |c|c|c|c| }
\hline
Controller Type & Dependent & Independet & Total\\ \hline
PI & PI & PI & PI\\ \hline
PD & PD & PD & PD\\ \hline
PID & PID & PID & PID\\ \hline
IBC & IBC & IBC & IBC\\ \hline
ABC & ABC & ABC & ABC\\ \hline
LQR & LQR & LQR & LQR\\ \hline
\end{tabular}
\caption{A Breakdown of common Attitude Controllers}
\label{tab:controllers}
\end{table}
\par
A PID strucuture for attitude controllers are the norm, with \cite{optimizedPID},\cite{quaddynamics},\cite{tiltpropellerflight} all implementing standard PID controllers and even \cite{singleaxistilting} using only a PD controller despite having an over-actuated platofrm. 
%====================================================
\subsubsection*{Single \& Dual Axis Allocation}
%====================================================
Dual axis poop

%====================================================
\subsubsection*{Satellite Attitude Control}
%====================================================
Unconstrained attitude set-point tracking, quaternion based or otherwise, is a topic well covered in the field of satellite attitude control; \cite{}. With advanced concepts  